"use strict";(globalThis.webpackChunktemp_docusaurus=globalThis.webpackChunktemp_docusaurus||[]).push([[819],{2243:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>u,frontMatter:()=>i,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"module-5-advanced/micro-ros","title":"Micro-ROS: ROS 2 on Microcontrollers","description":"1. Why ESP32?","source":"@site/docs/module-5-advanced/05-micro-ros.md","sourceDirName":"module-5-advanced","slug":"/module-5-advanced/micro-ros","permalink":"/Cortex-H1/docs/module-5-advanced/micro-ros","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/module-5-advanced/05-micro-ros.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"title":"Micro-ROS: ROS 2 on Microcontrollers"},"sidebar":"textbookSidebar","previous":{"title":"Crossing the Reality Gap (Sim2Real)","permalink":"/Cortex-H1/docs/module-5-advanced/sim-to-real-gap"},"next":{"title":"Cloud Robotics with AWS RoboMaker","permalink":"/Cortex-H1/docs/module-5-advanced/cloud-robotics-aws"}}');var s=o(4848),t=o(8453);const i={sidebar_position:5,title:"Micro-ROS: ROS 2 on Microcontrollers"},c="Micro-ROS: The Nervous System's Edge",l={},d=[{value:"1. Why ESP32?",id:"1-why-esp32",level:2},{value:"2. Architecture",id:"2-architecture",level:2},{value:"3. Hello World on ESP32",id:"3-hello-world-on-esp32",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"micro-ros-the-nervous-systems-edge",children:"Micro-ROS: The Nervous System's Edge"})}),"\n",(0,s.jsx)(n.h2,{id:"1-why-esp32",children:"1. Why ESP32?"}),"\n",(0,s.jsxs)(n.p,{children:['A Jetson Orin costs $500. An ESP32 costs $5.\nFor simple tasks like "Read IMU" or "Control LED Ring", a full Linux computer is overkill.\n',(0,s.jsx)(n.strong,{children:"Micro-ROS"})," puts a DDS node directly on the microcontroller."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"2-architecture",children:"2. Architecture"}),"\n",(0,s.jsxs)(n.p,{children:["Micro-ROS does not speak standard DDS (RTPS). It uses ",(0,s.jsx)(n.strong,{children:"XRCE-DDS"})," (Extremely Resource Constrained Environments)."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Client (ESP32)"}),": Runs the application logic."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Agent (Jetson)"}),": A Linux process that acts as a bridge, translating XRCE-DDS to standard ROS 2."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"3-hello-world-on-esp32",children:"3. Hello World on ESP32"}),"\n",(0,s.jsx)(n.p,{children:"Using the PlatformIO or Arduino environment:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:'#include <micro_ros_arduino.h>\n#include <rcl/rcl.h>\n#include <rclc/rclc.h>\n#include <std_msgs/msg/int32.h>\n\nrcl_publisher_t publisher;\nstd_msgs__msg__Int32 msg;\n\nvoid setup() {\n  set_microros_transports();\n  \n  // Init allocator\n  rcl_allocator_t allocator = rcl_get_default_allocator();\n  rclc_support_t support;\n  rclc_support_init(&support, 0, NULL, &allocator);\n\n  // Create Node\n  rcl_node_t node;\n  rclc_node_init_default(&node, "micro_ros_node", "", &support);\n\n  // Create Publisher\n  rclc_publisher_init_default(\n    &publisher,\n    &node,\n    ROSIDL_GET_MSG_TYPE_SUPPORT(std_msgs, msg, Int32),\n    "micro_ros_counter");\n}\n\nvoid loop() {\n  msg.data++;\n  rcl_publish(&publisher, &msg, NULL);\n  delay(1000);\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Now your $5 chip is a first-class citizen of the Robot Operating System."})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>i,x:()=>c});var r=o(6540);const s={},t=r.createContext(s);function i(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);