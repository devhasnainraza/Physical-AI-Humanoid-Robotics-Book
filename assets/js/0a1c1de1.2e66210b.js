"use strict";(globalThis.webpackChunkcortex_h1=globalThis.webpackChunkcortex_h1||[]).push([[8251],{3256:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>u,frontMatter:()=>t,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"module-2-digital-twin/gazebo-setup","title":"2.3 Gazebo Simulation","description":"Worlds, Plugins, and the ROS 2 Bridge.","source":"@site/docs/module-2-digital-twin/03-gazebo-setup.md","sourceDirName":"module-2-digital-twin","slug":"/module-2-digital-twin/gazebo-setup","permalink":"/Cortex-H1/docs/module-2-digital-twin/gazebo-setup","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/module-2-digital-twin/03-gazebo-setup.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"gazebo-setup","title":"2.3 Gazebo Simulation","sidebar_label":"2.3 Gazebo Setup","description":"Worlds, Plugins, and the ROS 2 Bridge."},"sidebar":"textbookSidebar","previous":{"title":"2.2 Xacro & Inertia","permalink":"/Cortex-H1/docs/module-2-digital-twin/urdf-creation"},"next":{"title":"04. MuJoCo Physics","permalink":"/Cortex-H1/docs/module-2-digital-twin/mujoco-physics"}}');var r=i(4848),o=i(8453);const t={id:"gazebo-setup",title:"2.3 Gazebo Simulation",sidebar_label:"2.3 Gazebo Setup",description:"Worlds, Plugins, and the ROS 2 Bridge."},a="2.3 Gazebo Simulation",d={},l=[{value:"\ud83c\udfaf Lab Objectives",id:"-lab-objectives",level:2},{value:"2.3.1 The World File (<code>my_world.sdf</code>)",id:"231-the-world-file-my_worldsdf",level:2},{value:"2.3.2 Adding a Lidar Plugin",id:"232-adding-a-lidar-plugin",level:2},{value:"2.3.3 The Bridge (<code>ros_gz_bridge</code>)",id:"233-the-bridge-ros_gz_bridge",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"23-gazebo-simulation",children:"2.3 Gazebo Simulation"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:'"Let there be light (and physics)."'})}),"\n",(0,r.jsx)(n.h2,{id:"-lab-objectives",children:"\ud83c\udfaf Lab Objectives"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Create a World"})," file."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Add Sensors"})," (Lidar/Camera) via Plugins."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Bridge"})," Gazebo to ROS 2."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h2,{id:"231-the-world-file-my_worldsdf",children:["2.3.1 The World File (",(0,r.jsx)(n.code,{children:"my_world.sdf"}),")"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<sdf version="1.6">\n  <world name="default">\n    <include>\n      <uri>https://fuel.gazebosim.org/1.0/OpenRobotics/models/Sun</uri>\n    </include>\n    <include>\n      <uri>https://fuel.gazebosim.org/1.0/OpenRobotics/models/Ground Plane</uri>\n    </include>\n    \n    \x3c!-- Physics Settings --\x3e\n    <physics name="1ms" type="ignored">\n      <max_step_size>0.001</max_step_size>\n      <real_time_factor>1.0</real_time_factor>\n    </physics>\n  </world>\n</sdf>\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"232-adding-a-lidar-plugin",children:"2.3.2 Adding a Lidar Plugin"}),"\n",(0,r.jsx)(n.p,{children:"In your URDF/SDF:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:"<plugin\n    filename=\"libignition-gazebo-sensors-system.so\"\n    name=\"ignition::gazebo::systems::Sensors\">\n    <render_engine>ogre2</render_engine>\n</plugin>\n\n<sensor name='lidar' type='gpu_lidar'>\n    <topic>scan</topic>\n    <update_rate>10</update_rate>\n    <ray>\n        <scan>\n            <horizontal>\n                <samples>640</samples>\n                <resolution>1</resolution>\n                <min_angle>-1.57</min_angle>\n                <max_angle>1.57</max_angle>\n            </horizontal>\n        </scan>\n        <range>\n            <min>0.08</min>\n            <max>10.0</max>\n        </range>\n    </ray>\n</sensor>\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h2,{id:"233-the-bridge-ros_gz_bridge",children:["2.3.3 The Bridge (",(0,r.jsx)(n.code,{children:"ros_gz_bridge"}),")"]}),"\n",(0,r.jsx)(n.p,{children:'Gazebo talks "Ignition Transport". ROS talks "DDS". We need a translator.'}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ros2 run ros_gz_bridge parameter_bridge /scan@sensor_msgs/msg/LaserScan@ignition.msgs.LaserScan\n"})}),"\n",(0,r.jsxs)(n.p,{children:["This maps the Gazebo ",(0,r.jsx)(n.code,{children:"/scan"})," to ROS 2 ",(0,r.jsx)(n.code,{children:"/scan"}),"."]})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>a});var s=i(6540);const r={},o=s.createContext(r);function t(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);