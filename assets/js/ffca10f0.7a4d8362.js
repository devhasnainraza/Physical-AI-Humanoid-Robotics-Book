"use strict";(globalThis.webpackChunktemp_docusaurus=globalThis.webpackChunktemp_docusaurus||[]).push([[674],{2932:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>s,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"module-1-ros2/lab-urdf","title":"Lab: Build a 6-DOF Leg","description":"\ud83c\udfaf Objective","source":"@site/docs/module-1-ros2/lab-urdf.md","sourceDirName":"module-1-ros2","slug":"/module-1-ros2/lab-urdf","permalink":"/Cortex-H1/docs/module-1-ros2/lab-urdf","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/module-1-ros2/lab-urdf.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Lab: Build a 6-DOF Leg"},"sidebar":"textbookSidebar","previous":{"title":"Modeling Robots with URDF","permalink":"/Cortex-H1/docs/module-1-ros2/urdf-modeling"},"next":{"title":"SROS2: Hacking & Defense","permalink":"/Cortex-H1/docs/module-1-ros2/ros2-security"}}');var t=i(4848),r=i(8453);const o={sidebar_position:4,title:"Lab: Build a 6-DOF Leg"},a="Lab: Building a 6-DOF Humanoid Leg",s={},c=[{value:"\ud83c\udfaf Objective",id:"-objective",level:2},{value:"\ud83d\udee0\ufe0f Prerequisites",id:"\ufe0f-prerequisites",level:2},{value:"1. The Kinematic Chain",id:"1-the-kinematic-chain",level:2},{value:"2. Step 1: The Hip Assembly",id:"2-step-1-the-hip-assembly",level:2},{value:"3. Step 2: Knee and Ankle",id:"3-step-2-knee-and-ankle",level:2},{value:"4. Visualization",id:"4-visualization",level:2}];function h(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"lab-building-a-6-dof-humanoid-leg",children:"Lab: Building a 6-DOF Humanoid Leg"})}),"\n",(0,t.jsx)(n.h2,{id:"-objective",children:"\ud83c\udfaf Objective"}),"\n",(0,t.jsx)(n.p,{children:"In this lab, you will not just read about URDF; you will build a mathematically accurate 6-Degree-of-Freedom (6-DOF) robotic leg, capable of mimicking human walking."}),"\n",(0,t.jsx)(n.h2,{id:"\ufe0f-prerequisites",children:"\ud83d\udee0\ufe0f Prerequisites"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"VS Code installed"}),"\n",(0,t.jsx)(n.li,{children:"ROS 2 Humble"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"urdf_tutorial"})," package"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"1-the-kinematic-chain",children:"1. The Kinematic Chain"}),"\n",(0,t.jsx)(n.p,{children:"A humanoid leg typically has 6 joints (DOF) to allow for full 3D positioning and orientation of the foot:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Hip Yaw"})," (Turn left/right)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Hip Roll"})," (Spread legs / Splits)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Hip Pitch"})," (Lift thigh forward)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Knee Pitch"})," (Bend knee)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Ankle Pitch"})," (Lift toes)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Ankle Roll"})," (Tilt foot for uneven ground)"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"2-step-1-the-hip-assembly",children:"2. Step 1: The Hip Assembly"}),"\n",(0,t.jsxs)(n.p,{children:["Create a file ",(0,t.jsx)(n.code,{children:"leg.xacro"}),". We will use Xacro variables for easy tuning."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="humanoid_leg">\n\n  \x3c!-- Properties --\x3e\n  <xacro:property name="thigh_len" value="0.4" />\n  <xacro:property name="shin_len" value="0.38" />\n  <xacro:property name="width" value="0.05" />\n\n  \x3c!-- BASE (Pelvis) --\x3e\n  <link name="pelvis">\n    <visual>\n      <geometry><box size="0.2 0.3 0.1"/></geometry>\n      <material name="grey"><color rgba="0.5 0.5 0.5 1"/></material>\n    </visual>\n  </link>\n\n  \x3c!-- JOINT 1: Hip Yaw --\x3e\n  <joint name="hip_yaw" type="revolute">\n    <parent link="pelvis"/>\n    <child link="hip_yaw_link"/>\n    <origin xyz="0 0.1 -0.05" rpy="0 0 0"/>\n    <axis xyz="0 0 1"/> \x3c!-- Z-axis rotation --\x3e\n    <limit lower="-0.5" upper="0.5" effort="50" velocity="5"/>\n  </joint>\n\n  <link name="hip_yaw_link">\n    <visual>\n      <geometry><cylinder radius="0.04" length="0.05"/></geometry>\n      <material name="black"><color rgba="0 0 0 1"/></material>\n    </visual>\n  </link>\n\n  \x3c!-- JOINT 2: Hip Roll --\x3e\n  <joint name="hip_roll" type="revolute">\n    <parent link="hip_yaw_link"/>\n    <child link="hip_roll_link"/>\n    <origin xyz="0 0 -0.05" rpy="0 0 0"/>\n    <axis xyz="1 0 0"/> \x3c!-- X-axis rotation --\x3e\n    <limit lower="-0.2" upper="0.5" effort="80" velocity="5"/>\n  </joint>\n\n  <link name="hip_roll_link">\n    <visual>\n      <geometry><box size="0.08 0.08 0.08"/></geometry>\n    </visual>\n  </link>\n\n  \x3c!-- JOINT 3: Hip Pitch --\x3e\n  <joint name="hip_pitch" type="revolute">\n    <parent link="hip_roll_link"/>\n    <child link="thigh"/>\n    <origin xyz="0 0 0" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/> \x3c!-- Y-axis rotation --\x3e\n    <limit lower="-1.5" upper="1.5" effort="100" velocity="5"/>\n  </joint>\n\n  \x3c!-- THIGH LINK --\x3e\n  <link name="thigh">\n    <visual>\n      <geometry><box size="${width} ${width} ${thigh_len}"/></geometry>\n      <origin xyz="0 0 -${thigh_len/2}"/>\n      <material name="blue"><color rgba="0 0 1 1"/></material>\n    </visual>\n    <collision>\n      <geometry><box size="${width} ${width} ${thigh_len}"/></geometry>\n      <origin xyz="0 0 -${thigh_len/2}"/>\n    </collision>\n    \x3c!-- Inertial Matrix (Simplified Box) --\x3e\n    <inertial>\n      <mass value="2.0"/>\n      <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.001"/>\n    </inertial>\n  </link>\n\n</robot>\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"3-step-2-knee-and-ankle",children:"3. Step 2: Knee and Ankle"}),"\n",(0,t.jsxs)(n.p,{children:["Add this below the thigh link in your ",(0,t.jsx)(n.code,{children:"leg.xacro"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:'  \x3c!-- JOINT 4: Knee Pitch --\x3e\n  <joint name="knee_pitch" type="revolute">\n    <parent link="thigh"/>\n    <child link="shin"/>\n    <origin xyz="0 0 -${thigh_len}" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="0.0" upper="2.6" effort="100" velocity="5"/>\n  </joint>\n\n  <link name="shin">\n    <visual>\n      <geometry><box size="${width} ${width} ${shin_len}"/></geometry>\n      <origin xyz="0 0 -${shin_len/2}"/>\n      <material name="white"><color rgba="1 1 1 1"/></material>\n    </visual>\n  </link>\n\n  \x3c!-- JOINT 5: Ankle Pitch --\x3e\n  <joint name="ankle_pitch" type="revolute">\n    <parent link="shin"/>\n    <child link="ankle_link"/>\n    <origin xyz="0 0 -${shin_len}" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="-0.8" upper="0.8" effort="40" velocity="5"/>\n  </joint>\n\n  <link name="ankle_link">\n    <visual><geometry><box size="0.06 0.05 0.05"/></geometry></visual>\n  </link>\n\n  \x3c!-- JOINT 6: Ankle Roll --\x3e\n  <joint name="ankle_roll" type="revolute">\n    <parent link="ankle_link"/>\n    <child link="foot"/>\n    <origin xyz="0 0 0" rpy="0 0 0"/>\n    <axis xyz="1 0 0"/>\n    <limit lower="-0.5" upper="0.5" effort="40" velocity="5"/>\n  </joint>\n\n  <link name="foot">\n    <visual>\n      <geometry><box size="0.2 0.1 0.02"/></geometry>\n      <origin xyz="0.05 0 -0.01"/> \x3c!-- Offset heel --\x3e\n      <material name="black"/>\n    </visual>\n    <collision>\n      <geometry><box size="0.2 0.1 0.02"/></geometry>\n      <origin xyz="0.05 0 -0.01"/>\n    </collision>\n  </link>\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"4-visualization",children:"4. Visualization"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Convert Xacro to URDF:","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"xacro leg.xacro > leg.urdf\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Launch RViz:","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ros2 launch urdf_tutorial display.launch.py model:=leg.urdf\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Challenge"}),': Use the Joint State Publisher GUI to make the robot do a "Squat". Notice how the Ankle Pitch must compensate for the Knee Pitch to keep the foot flat? That is ',(0,t.jsx)(n.strong,{children:"Inverse Kinematics"}),"!"]})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>a});var l=i(6540);const t={},r=l.createContext(t);function o(e){const n=l.useContext(r);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),l.createElement(r.Provider,{value:n},e.children)}}}]);