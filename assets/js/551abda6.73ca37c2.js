"use strict";(globalThis.webpackChunktemp_docusaurus=globalThis.webpackChunktemp_docusaurus||[]).push([[8516],{8387:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>i,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"module-5-advanced/docker-on-edge","title":"Docker on Jetson Orin","description":"1. Dependency Hell","source":"@site/docs/module-5-advanced/03-docker-on-edge.md","sourceDirName":"module-5-advanced","slug":"/module-5-advanced/docker-on-edge","permalink":"/Physical-AI-Humanoid-Robotics-Book/docs/module-5-advanced/docker-on-edge","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/module-5-advanced/03-docker-on-edge.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Docker on Jetson Orin"},"sidebar":"textbookSidebar","previous":{"title":"CI/CD for Robotics","permalink":"/Physical-AI-Humanoid-Robotics-Book/docs/module-5-advanced/cicd-for-robotics"}}');var r=o(4848),t=o(8453);const c={sidebar_position:3,title:"Docker on Jetson Orin"},d="Deploying to the Edge: Docker on Jetson",i={},a=[{value:"1. Dependency Hell",id:"1-dependency-hell",level:2},{value:"2. The Base Image",id:"2-the-base-image",level:2},{value:"<code>Dockerfile.jetson</code>",id:"dockerfilejetson",level:3},{value:"3. Running with Hardware Access",id:"3-running-with-hardware-access",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"deploying-to-the-edge-docker-on-jetson",children:"Deploying to the Edge: Docker on Jetson"})}),"\n",(0,r.jsx)(n.h2,{id:"1-dependency-hell",children:"1. Dependency Hell"}),"\n",(0,r.jsxs)(n.p,{children:["Robots have complex dependencies: ",(0,r.jsx)(n.code,{children:"PyTorch"}),", ",(0,r.jsx)(n.code,{children:"CUDA"}),", ",(0,r.jsx)(n.code,{children:"ROS 2"}),", ",(0,r.jsx)(n.code,{children:"RealSense SDK"}),". Installing these manually on every robot is a nightmare. ",(0,r.jsx)(n.strong,{children:"Docker"})," solves this."]}),"\n",(0,r.jsx)(n.h2,{id:"2-the-base-image",children:"2. The Base Image"}),"\n",(0,r.jsxs)(n.p,{children:["On NVIDIA Jetson, you cannot use standard ",(0,r.jsx)(n.code,{children:"ubuntu"})," images. You must use ",(0,r.jsx)(n.code,{children:"l4t"})," (Linux for Tegra) base images that have access to the GPU hardware."]}),"\n",(0,r.jsx)(n.h3,{id:"dockerfilejetson",children:(0,r.jsx)(n.code,{children:"Dockerfile.jetson"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dockerfile",children:'# Base image from NVIDIA NGC (JetPack 5.1)\nFROM nvcr.io/nvidia/l4t-ml:r35.2.1-py3\n\n# Install ROS 2 Humble (from source or pre-built)\n# (Simplified for brevity)\nRUN apt-get update && apt-get install -y ros-humble-ros-base\n\n# Copy your workspace\nWORKDIR /ws\nCOPY src ./src\n\n# Install dependencies\nRUN rosdep install -y --from-paths src --ignore-src\n\n# Build\nRUN . /opt/ros/humble/setup.sh && colcon build\n\n# Entrypoint\nCOPY entrypoint.sh /\nENTRYPOINT ["/entrypoint.sh"]\nCMD ["ros2", "launch", "my_robot", "bringup.launch.py"]\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"3-running-with-hardware-access",children:"3. Running with Hardware Access"}),"\n",(0,r.jsx)(n.p,{children:"To let the container see the GPU and USB sensors, you need specific flags:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker run -it --rm --net=host --runtime=nvidia \\\n    --device /dev/video0 \\\n    --device /dev/ttyUSB0 \\\n    -v /tmp/argus_socket:/tmp/argus_socket \\\n    my-robot-image\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"--net=host"}),": Share network (needed for DDS/ROS 2 discovery)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"--runtime=nvidia"}),": Enable GPU acceleration."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"--device"}),": Pass through cameras and IMUs."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:'This ensures your "Brain" runs identically on your laptop and the robot.'}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>c,x:()=>d});var s=o(6540);const r={},t=s.createContext(r);function c(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);