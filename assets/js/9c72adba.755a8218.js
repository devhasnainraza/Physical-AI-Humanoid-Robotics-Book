"use strict";(globalThis.webpackChunkcortex_h1=globalThis.webpackChunkcortex_h1||[]).push([[1536],{3178:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"module-1-ros2/foundations-physical-ai","title":"1.1 ROS 2: The Nervous System","description":"Nodes, Topics, Services, and the DDS Middleware.","source":"@site/docs/module-1-ros2/01-foundations-physical-ai.md","sourceDirName":"module-1-ros2","slug":"/module-1-ros2/foundations-physical-ai","permalink":"/Cortex-H1/docs/module-1-ros2/foundations-physical-ai","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/module-1-ros2/01-foundations-physical-ai.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"id":"foundations-physical-ai","title":"1.1 ROS 2: The Nervous System","sidebar_label":"1.1 ROS 2 Foundations","description":"Nodes, Topics, Services, and the DDS Middleware."},"sidebar":"textbookSidebar","previous":{"title":"Slides","permalink":"/Cortex-H1/docs/textbook/slides"},"next":{"title":"1.2 Hardware Interface","permalink":"/Cortex-H1/docs/module-1-ros2/robot-hardware"}}');var i=n(4848),l=n(8453);const t={id:"foundations-physical-ai",title:"1.1 ROS 2: The Nervous System",sidebar_label:"1.1 ROS 2 Foundations",description:"Nodes, Topics, Services, and the DDS Middleware."},o="1.1 ROS 2: The Nervous System",d={},c=[{value:"\ud83c\udfaf Lab Objectives",id:"-lab-objectives",level:2},{value:"1.1.1 The Architecture: Nodes &amp; Topics",id:"111-the-architecture-nodes--topics",level:2},{value:"The Node",id:"the-node",level:3},{value:"The Topic (Pub/Sub)",id:"the-topic-pubsub",level:3},{value:"The Service (Req/Res)",id:"the-service-reqres",level:3},{value:"1.1.2 Hands-On: Your First Node",id:"112-hands-on-your-first-node",level:2},{value:"1. Create Workspace",id:"1-create-workspace",level:3},{value:"2. The Publisher Code (<code>simple_publisher.py</code>)",id:"2-the-publisher-code-simple_publisherpy",level:3},{value:"3. The Subscriber Code (<code>simple_subscriber.py</code>)",id:"3-the-subscriber-code-simple_subscriberpy",level:3},{value:"1.1.3 DDS: The Secret Sauce",id:"113-dds-the-secret-sauce",level:2},{value:"1.1.4 Quiz",id:"114-quiz",level:2}];function a(e){const s={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"11-ros-2-the-nervous-system",children:"1.1 ROS 2: The Nervous System"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:'"A robot without a middleware is just a pile of parts screaming in different languages."'})}),"\n",(0,i.jsxs)(s.p,{children:["In this lab, we build the digital nervous system of our robot using ",(0,i.jsx)(s.strong,{children:"ROS 2 (Robot Operating System)"}),".\nROS 2 is not an OS (like Windows); it is a ",(0,i.jsx)(s.strong,{children:"Middleware"}),". It handles the communication between the Camera (Eye) and the Motor (Hand) so you don't have to write raw socket code."]}),"\n",(0,i.jsx)(s.h2,{id:"-lab-objectives",children:"\ud83c\udfaf Lab Objectives"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Install ROS 2"})," (Humble Hawksbill)."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Write a Publisher/Subscriber"})," in Python."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Understand DDS"}),": The magic underneath."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"111-the-architecture-nodes--topics",children:"1.1.1 The Architecture: Nodes & Topics"}),"\n",(0,i.jsx)(s.h3,{id:"the-node",children:"The Node"}),"\n",(0,i.jsxs)(s.p,{children:["A ",(0,i.jsx)(s.strong,{children:"Node"})," is a process that performs a specific task."]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"camera_node"}),": Reads images."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"brain_node"}),": Detects objects."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"motor_node"}),": Spins wheels."]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"the-topic-pubsub",children:"The Topic (Pub/Sub)"}),"\n",(0,i.jsxs)(s.p,{children:["Nodes talk via ",(0,i.jsx)(s.strong,{children:"Topics"}),". It's like a Radio Station."]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Publisher"}),": Broadcasts data (e.g., ",(0,i.jsx)(s.code,{children:"/camera/image_raw"}),")."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Subscriber"}),": Listens to data."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"One-to-Many"}),": One camera can talk to the Brain, the Logger, and the GUI simultaneously."]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"the-service-reqres",children:"The Service (Req/Res)"}),"\n",(0,i.jsx)(s.p,{children:'Sometimes you need a reply. "Pick up the cup." "Done."'}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Client"}),": Sends Request."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Server"}),": Sends Response."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"112-hands-on-your-first-node",children:"1.1.2 Hands-On: Your First Node"}),"\n",(0,i.jsx)(s.p,{children:'We will create a "Talker" (Publisher) and a "Listener" (Subscriber).'}),"\n",(0,i.jsx)(s.h3,{id:"1-create-workspace",children:"1. Create Workspace"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"mkdir -p ~/ros2_ws/src\ncd ~/ros2_ws/src\nros2 pkg create --build-type ament_python my_first_package\n"})}),"\n",(0,i.jsxs)(s.h3,{id:"2-the-publisher-code-simple_publisherpy",children:["2. The Publisher Code (",(0,i.jsx)(s.code,{children:"simple_publisher.py"}),")"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass SimplePublisher(Node):\n    def __init__(self):\n        super().__init__('talker_node')\n        self.publisher_ = self.create_publisher(String, 'chatter', 10)\n        self.timer = self.create_timer(1.0, self.timer_callback)\n\n    def timer_callback(self):\n        msg = String()\n        msg.data = 'Hello Physical AI!'\n        self.publisher_.publish(msg)\n        self.get_logger().info(f'Publishing: \"{msg.data}\"')\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = SimplePublisher()\n    rclpy.spin(node)\n    node.destroy_node()\n    rclpy.shutdown()\n"})}),"\n",(0,i.jsxs)(s.h3,{id:"3-the-subscriber-code-simple_subscriberpy",children:["3. The Subscriber Code (",(0,i.jsx)(s.code,{children:"simple_subscriber.py"}),")"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass SimpleSubscriber(Node):\n    def __init__(self):\n        super().__init__('listener_node')\n        self.subscription = self.create_subscription(\n            String, 'chatter', self.listener_callback, 10)\n\n    def listener_callback(self, msg):\n        self.get_logger().info(f'I heard: \"{msg.data}\"')\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = SimpleSubscriber()\n    rclpy.spin(node)\n    rclpy.shutdown()\n"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"113-dds-the-secret-sauce",children:"1.1.3 DDS: The Secret Sauce"}),"\n",(0,i.jsxs)(s.p,{children:["ROS 1 used a central server (roscore). If it died, the robot died.\nROS 2 uses ",(0,i.jsx)(s.strong,{children:"DDS (Data Distribution Service)"}),"."]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Decentralized"}),": No master. Nodes find each other automatically (Discovery)."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"QoS (Quality of Service)"}),":","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.em,{children:"Reliable"}),": Like TCP. Guaranteed delivery (use for parameters)."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.em,{children:"Best Effort"}),": Like UDP. Fast, drop packets if needed (use for Video/LiDAR)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Pro Tip"}),": If your nodes can't see each other, check your ",(0,i.jsx)(s.code,{children:"ROS_DOMAIN_ID"}),". It separates robots on the same network."]}),"\n",(0,i.jsx)(s.h2,{id:"114-quiz",children:"1.1.4 Quiz"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:'What happens if the ROS 2 "Master" dies?'})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"a) The robot stops."}),"\n",(0,i.jsx)(s.li,{children:"b) Nothing. There is no Master in ROS 2."}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.em,{children:"Answer: b"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Which QoS setting should I use for a 30Hz Camera stream?"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"a) Reliable (Guaranteed delivery)."}),"\n",(0,i.jsx)(s.li,{children:"b) Best Effort (Low latency, okay to drop frames)."}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.em,{children:"Answer: b"})}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>t,x:()=>o});var r=n(6540);const i={},l=r.createContext(i);function t(e){const s=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(l.Provider,{value:s},e.children)}}}]);