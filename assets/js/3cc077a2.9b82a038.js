"use strict";(globalThis.webpackChunkcortex_h1=globalThis.webpackChunkcortex_h1||[]).push([[8751],{3586:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>t,default:()=>d,frontMatter:()=>r,metadata:()=>a,toc:()=>o});const a=JSON.parse('{"id":"module-6-manipulation/bimanual-manipulation","title":"6.4 Lab: Dual Arm Coordination","description":"Synchronizing two arms for a handover task.","source":"@site/docs/module-6-manipulation/04-bimanual-manipulation.md","sourceDirName":"module-6-manipulation","slug":"/module-6-manipulation/bimanual-manipulation","permalink":"/Cortex-H1/docs/module-6-manipulation/bimanual-manipulation","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/module-6-manipulation/04-bimanual-manipulation.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"id":"bimanual-manipulation","title":"6.4 Lab: Dual Arm Coordination","sidebar_label":"6.4 Lab: Dual Arm","description":"Synchronizing two arms for a handover task."},"sidebar":"textbookSidebar","previous":{"title":"6.3 Lab: Tactile","permalink":"/Cortex-H1/docs/module-6-manipulation/tactile-sensing"},"next":{"title":"7.1 Lab: Detection","permalink":"/Cortex-H1/docs/module-7-hri/intro-hri"}}');var i=n(4848),l=n(8453);const r={id:"bimanual-manipulation",title:"6.4 Lab: Dual Arm Coordination",sidebar_label:"6.4 Lab: Dual Arm",description:"Synchronizing two arms for a handover task."},t="6.4 Lab: Dual Arm Coordination",c={},o=[{value:"\ud83c\udfaf Lab Objectives",id:"-lab-objectives",level:2},{value:"6.4.1 The SRDF (Semantic Robot Description)",id:"641-the-srdf-semantic-robot-description",level:2},{value:"6.4.2 Handover Logic",id:"642-handover-logic",level:2},{value:"6.4.3 Code",id:"643-code",level:2},{value:"6.4.4 Closed Chain Kinematics",id:"644-closed-chain-kinematics",level:2},{value:"6.4.5 Quiz",id:"645-quiz",level:2}];function h(e){const s={annotation:"annotation",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",math:"math",mn:"mn",mo:"mo",mrow:"mrow",ol:"ol",p:"p",pre:"pre",semantics:"semantics",span:"span",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"64-lab-dual-arm-coordination",children:"6.4 Lab: Dual Arm Coordination"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:'"Two hands are better than one."'})}),"\n",(0,i.jsx)(s.h2,{id:"-lab-objectives",children:"\ud83c\udfaf Lab Objectives"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Configure MoveIt"})," for two arms (",(0,i.jsx)(s.code,{children:"left_arm"}),", ",(0,i.jsx)(s.code,{children:"right_arm"}),")."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Plan a Handover"}),": Left holds object ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsx)(s.mrow,{children:(0,i.jsx)(s.mo,{children:"\u2192"})}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\to"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.3669em"}}),(0,i.jsx)(s.span,{className:"mrel",children:"\u2192"})]})})]})," Right grabs object ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsx)(s.mrow,{children:(0,i.jsx)(s.mo,{children:"\u2192"})}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\to"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.3669em"}}),(0,i.jsx)(s.span,{className:"mrel",children:"\u2192"})]})})]})," Left releases."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"641-the-srdf-semantic-robot-description",children:"6.4.1 The SRDF (Semantic Robot Description)"}),"\n",(0,i.jsxs)(s.p,{children:["We define a ",(0,i.jsx)(s.strong,{children:"Group"})," called ",(0,i.jsx)(s.code,{children:"both_arms"}),"."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-xml",children:'<group name="both_arms">\n    <group name="left_arm"/>\n    <group name="right_arm"/>\n</group>\n'})}),"\n",(0,i.jsx)(s.h2,{id:"642-handover-logic",children:"6.4.2 Handover Logic"}),"\n",(0,i.jsxs)(s.p,{children:["This is a ",(0,i.jsx)(s.strong,{children:"State Machine"}),"."]}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Approach"}),": Move both arms to rendezvous point."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Contact"}),": Right arm closes gripper."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Load Transfer"}),":","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Right arm increases force."}),"\n",(0,i.jsx)(s.li,{children:"Left arm decreases force."}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.em,{children:"Critical"}),": If Left lets go too early, object drops."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Retreat"}),": Left arm moves away."]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"643-code",children:"6.4.3 Code"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"# MoveIt script\nleft.set_pose_target(rendezvous_left)\nright.set_pose_target(rendezvous_right)\n\n# Plan together to avoid self-collision\nboth.plan()\nboth.execute()\n"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"644-closed-chain-kinematics",children:"6.4.4 Closed Chain Kinematics"}),"\n",(0,i.jsxs)(s.p,{children:["When both hold the object, they form a ",(0,i.jsx)(s.strong,{children:"Closed Chain"}),".\nDOF drops from ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mn,{children:"7"}),(0,i.jsx)(s.mo,{children:"+"}),(0,i.jsx)(s.mn,{children:"7"}),(0,i.jsx)(s.mo,{children:"="}),(0,i.jsx)(s.mn,{children:"14"})]}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"7+7=14"})]})})}),(0,i.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.7278em",verticalAlign:"-0.0833em"}}),(0,i.jsx)(s.span,{className:"mord",children:"7"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(s.span,{className:"mbin",children:"+"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6444em"}}),(0,i.jsx)(s.span,{className:"mord",children:"7"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(s.span,{className:"mrel",children:"="}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6444em"}}),(0,i.jsx)(s.span,{className:"mord",children:"14"})]})]})]})," to ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mn,{children:"14"}),(0,i.jsx)(s.mo,{children:"\u2212"}),(0,i.jsx)(s.mn,{children:"6"}),(0,i.jsx)(s.mo,{children:"="}),(0,i.jsx)(s.mn,{children:"8"})]}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"14 - 6 = 8"})]})})}),(0,i.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.7278em",verticalAlign:"-0.0833em"}}),(0,i.jsx)(s.span,{className:"mord",children:"14"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(s.span,{className:"mbin",children:"\u2212"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6444em"}}),(0,i.jsx)(s.span,{className:"mord",children:"6"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(s.span,{className:"mrel",children:"="}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6444em"}}),(0,i.jsx)(s.span,{className:"mord",children:"8"})]})]})]}),".\nMoveIt doesn't handle closed chains well. We usually switch to ",(0,i.jsx)(s.strong,{children:"Impedance Control"})," (Master/Slave) for this phase."]}),"\n",(0,i.jsx)(s.h2,{id:"645-quiz",children:"6.4.5 Quiz"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"What is the biggest risk in dual-arm planning?"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"a) Self-collision (Arms hitting each other)."}),"\n",(0,i.jsx)(s.li,{children:"b) Boredom."}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.em,{children:"Answer: a"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Why do we switch to Impedance Control during the hold?"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"a) To avoid fighting each other (internal forces) due to small positioning errors."}),"\n",(0,i.jsx)(s.li,{children:"b) To save power."}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.em,{children:"Answer: a"})}),"\n"]}),"\n"]}),"\n"]})]})}function d(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>t});var a=n(6540);const i={},l=a.createContext(i);function r(e){const s=a.useContext(l);return a.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),a.createElement(l.Provider,{value:s},e.children)}}}]);