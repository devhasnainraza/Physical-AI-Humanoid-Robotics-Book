"use strict";(globalThis.webpackChunkcortex_h1=globalThis.webpackChunkcortex_h1||[]).push([[7570],{8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>o});var r=i(6540);const a={},l=r.createContext(a);function t(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),r.createElement(l.Provider,{value:n},e.children)}},8688:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>s,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"labs/lab-2-urdf-modeling","title":"Lab 2: URDF Modeling and Visualization","description":"Objective","source":"@site/docs/labs/lab-2-urdf-modeling.md","sourceDirName":"labs","slug":"/labs/lab-2-urdf-modeling","permalink":"/Cortex-H1/docs/labs/lab-2-urdf-modeling","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/labs/lab-2-urdf-modeling.md","tags":[],"version":"current","frontMatter":{"id":"lab-2-urdf-modeling","title":"Lab 2: URDF Modeling and Visualization","sidebar_label":"Lab 2: URDF Modeling"}}');var a=i(4848),l=i(8453);const t={id:"lab-2-urdf-modeling",title:"Lab 2: URDF Modeling and Visualization",sidebar_label:"Lab 2: URDF Modeling"},o="Lab 2: URDF Modeling and Visualization",s={},c=[{value:"Objective",id:"objective",level:2},{value:"Theoretical Background",id:"theoretical-background",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Step-by-Step Instructions",id:"step-by-step-instructions",level:2},{value:"Step 1: Create a New Package for Your Robot Description",id:"step-1-create-a-new-package-for-your-robot-description",level:3},{value:"Step 2: Create the Xacro File",id:"step-2-create-the-xacro-file",level:3},{value:"Step 3: Configure CMakeLists.txt and Package.xml",id:"step-3-configure-cmakeliststxt-and-packagexml",level:3},{value:"Step 4: Build Your Package",id:"step-4-build-your-package",level:3},{value:"Step 5: Source and Visualize in RViz",id:"step-5-source-and-visualize-in-rviz",level:3},{value:"Verification",id:"verification",level:2},{value:"Challenge Questions",id:"challenge-questions",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"lab-2-urdf-modeling-and-visualization",children:"Lab 2: URDF Modeling and Visualization"})}),"\n",(0,a.jsx)(n.h2,{id:"objective",children:"Objective"}),"\n",(0,a.jsxs)(n.p,{children:["This lab aims to provide hands-on experience with ",(0,a.jsx)(n.strong,{children:"URDF (Unified Robot Description Format)"})," and ",(0,a.jsx)(n.strong,{children:"Xacro (XML Macros)"}),". You will construct a multi-joint robotic arm, define its kinematics and visualization properties, and then visualize it in RViz, the ROS 2 visualization tool."]}),"\n",(0,a.jsx)(n.h2,{id:"theoretical-background",children:"Theoretical Background"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"URDF"})," is an XML format for describing the kinematic and dynamic properties of a robot. It defines the robot's links (rigid bodies) and joints (connections between links).\n",(0,a.jsx)(n.strong,{children:"Xacro"})," extends URDF by allowing you to use macros, properties, and basic programming constructs to create more concise and reusable robot descriptions. This is crucial for complex robots like humanoids."]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Link"}),": A rigid body with physical properties (mass, inertia) and visual/collision geometries."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Joint"}),": Defines the kinematic relationship between two links (parent and child). Types include ",(0,a.jsx)(n.code,{children:"revolute"})," (rotating), ",(0,a.jsx)(n.code,{children:"prismatic"})," (sliding), and ",(0,a.jsx)(n.code,{children:"fixed"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Xacro Properties"}),": Variables that can be defined and reused throughout the Xacro file."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Xacro Macros"}),": Reusable blocks of XML code, similar to functions, which can take parameters."]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"ROS 2 Humble Development Environment"}),": Set up as in Lab 1."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsxs)(n.strong,{children:[(0,a.jsx)(n.code,{children:"urdf_tutorial"})," package"]}),": Installed.","\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo apt install ros-humble-urdf-tutorial\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"step-by-step-instructions",children:"Step-by-Step Instructions"}),"\n",(0,a.jsx)(n.h3,{id:"step-1-create-a-new-package-for-your-robot-description",children:"Step 1: Create a New Package for Your Robot Description"}),"\n",(0,a.jsx)(n.p,{children:"Navigate to your ROS 2 workspace:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"cd ~/ros2_ws/src\nros2 pkg create --build-type ament_cmake my_robot_description\n"})}),"\n",(0,a.jsxs)(n.p,{children:["We use ",(0,a.jsx)(n.code,{children:"ament_cmake"})," here because robot description packages typically involve ",(0,a.jsx)(n.code,{children:".xacro"})," files that need to be processed by CMake."]}),"\n",(0,a.jsx)(n.h3,{id:"step-2-create-the-xacro-file",children:"Step 2: Create the Xacro File"}),"\n",(0,a.jsx)(n.p,{children:"Navigate into your new package's directory:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"cd ~/ros2_ws/src/my_robot_description\nmkdir urdf rviz\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Create a file named ",(0,a.jsx)(n.code,{children:"urdf/simple_arm.xacro"})," and add the following content. This Xacro file will describe a simple 2-DOF robotic arm."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="simple_arm">\n\n  \x3c!-- ======================= --\x3e\n  \x3c!-- Xacro Properties --\x3e\n  \x3c!-- ======================= --\x3e\n  <xacro:property name="PI" value="3.1415926535897931" />\n  <xacro:property name="arm_width" value="0.05" />\n  <xacro:property name="link1_length" value="0.3" />\n  <xacro:property name="link2_length" value="0.25" />\n  <xacro:property name="joint_limit" value="1.57" /> \x3c!-- 90 degrees in radians --\x3e\n\n  \x3c!-- ======================= --\x3e\n  \x3c!-- Materials --\x3e\n  \x3c!-- ======================= --\x3e\n  <material name="blue">\n    <color rgba="0 0 0.8 1"/>\n  </material>\n  <material name="white">\n    <color rgba="1 1 1 1"/>\n  </material>\n  <material name="black">\n    <color rgba="0 0 0 1"/>\n  </material>\n\n  \x3c!-- ======================= --\x3e\n  \x3c!-- BASE LINK --\x3e\n  \x3c!-- ======================= --\x3e\n  <link name="base_link">\n    <visual>\n      <geometry><cylinder length="0.05" radius="0.08"/></geometry>\n      <material name="black"/>\n    </visual>\n    <collision>\n      <geometry><cylinder length="0.05" radius="0.08"/></geometry>\n    </collision>\n    <inertial>\n      <mass value="0.1"/>\n      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>\n    </inertial>\n  </link>\n\n  \x3c!-- ======================= --\x3e\n  \x3c!-- JOINT 1: Revolute --\x3e\n  \x3c!-- ======================= --\x3e\n  <joint name="joint1" type="revolute">\n    <parent link="base_link"/>\n    <child link="link1"/>\n    <origin xyz="0 0 0.025" rpy="0 0 0"/>\n    <axis xyz="0 0 1"/> \x3c!-- Rotation around Z-axis --\x3e\n    <limit lower="-${joint_limit}" upper="${joint_limit}" effort="100" velocity="10"/>\n  </joint>\n\n  \x3c!-- ======================= --\x3e\n  \x3c!-- LINK 1 --\x3e\n  \x3c!-- ======================= --\x3e\n  <link name="link1">\n    <visual>\n      <geometry><box size="${arm_width} ${arm_width} ${link1_length}"/></geometry>\n      <origin xyz="0 0 ${link1_length/2}" rpy="0 0 0"/>\n      <material name="blue"/>\n    </visual>\n    <collision>\n      <geometry><box size="${arm_width} ${arm_width} ${link1_length}"/></geometry>\n      <origin xyz="0 0 ${link1_length/2}" rpy="0 0 0"/>\n    </collision>\n    <inertial>\n      <mass value="0.5"/>\n      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>\n    </inertial>\n  </link>\n\n  \x3c!-- ======================= --\x3e\n  \x3c!-- JOINT 2: Revolute --\x3e\n  \x3c!-- ======================= --\x3e\n  <joint name="joint2" type="revolute">\n    <parent link="link1"/>\n    <child link="link2"/>\n    <origin xyz="0 0 ${link1_length}" rpy="0 0 0"/> \x3c!-- At the end of Link 1 --\x3e\n    <axis xyz="0 1 0"/> \x3c!-- Rotation around Y-axis --\x3e\n    <limit lower="-${joint_limit}" upper="${joint_limit}" effort="100" velocity="10"/>\n  </joint>\n\n  \x3c!-- ======================= --\x3e\n  \x3c!-- LINK 2 (End-effector) --\x3e\n  \x3c!-- ======================= --\x3e\n  <link name="link2">\n    <visual>\n      <geometry><box size="${arm_width} ${arm_width} ${link2_length}"/></geometry>\n      <origin xyz="0 0 ${link2_length/2}" rpy="0 0 0"/>\n      <material name="white"/>\n    </visual>\n    <collision>\n      <geometry><box size="${arm_width} ${arm_width} ${link2_length}"/></geometry>\n      <origin xyz="0 0 ${link2_length/2}" rpy="0 0 0"/>\n    </collision>\n    <inertial>\n      <mass value="0.2"/>\n      <inertia ixx="0.0005" ixy="0" ixz="0" iyy="0.0005" iyz="0" izz="0.0001"/>\n    </inertial>\n  </link>\n\n  \x3c!-- ======================= --\x3e\n  \x3c!-- GRIPPER LINK (Fixed) --\x3e\n  \x3c!-- ======================= --\x3e\n  <joint name="gripper_joint" type="fixed">\n    <parent link="link2"/>\n    <child link="gripper"/>\n    <origin xyz="0 0 ${link2_length}" rpy="0 0 0"/>\n  </joint>\n\n  <link name="gripper">\n    <visual>\n      <geometry><box size="0.02 0.08 0.02"/></geometry>\n      <origin xyz="0 0 0.01" rpy="0 0 0"/>\n      <material name="black"/>\n    </visual>\n  </link>\n\n</robot>\n'})}),"\n",(0,a.jsx)(n.h3,{id:"step-3-configure-cmakeliststxt-and-packagexml",children:"Step 3: Configure CMakeLists.txt and Package.xml"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsxs)(n.strong,{children:["Update ",(0,a.jsx)(n.code,{children:"~/ros2_ws/src/my_robot_description/CMakeLists.txt"})]}),":\nAdd the following lines to ensure your ",(0,a.jsx)(n.code,{children:"xacro"})," file is installed and available."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-cmake",children:"# Add these lines at the end of the file, after find_package(ament_cmake REQUIRED)\n\ninstall(\n  DIRECTORY urdf rviz\n  DESTINATION share/${PROJECT_NAME}\n)\n\n# For Xacro processing during visualization (optional, but good practice)\nfind_package(xacro REQUIRED)\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsxs)(n.strong,{children:["Update ",(0,a.jsx)(n.code,{children:"~/ros2_ws/src/my_robot_description/package.xml"})]}),":\nAdd these dependencies:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"  <depend>xacro</depend>\n  <depend>urdf_tutorial</depend>\n"})}),"\n",(0,a.jsx)(n.h3,{id:"step-4-build-your-package",children:"Step 4: Build Your Package"}),"\n",(0,a.jsx)(n.p,{children:"Navigate back to your workspace root and build your package:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"cd ~/ros2_ws\ncolcon build --packages-select my_robot_description\n"})}),"\n",(0,a.jsx)(n.h3,{id:"step-5-source-and-visualize-in-rviz",children:"Step 5: Source and Visualize in RViz"}),"\n",(0,a.jsx)(n.p,{children:"Source your workspace to make the package contents available:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:". install/setup.bash\n"})}),"\n",(0,a.jsx)(n.p,{children:"Now, launch the RViz visualization:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ros2 launch urdf_tutorial display.launch.py model:=$(ros2 pkg prefix my_robot_description)/share/my_robot_description/urdf/simple_arm.xacro\n"})}),"\n",(0,a.jsxs)(n.p,{children:["This command processes your ",(0,a.jsx)(n.code,{children:"simple_arm.xacro"})," file into a URDF and then uses ",(0,a.jsx)(n.code,{children:"urdf_tutorial"}),"'s launch file to display it in RViz. A GUI window with sliders for ",(0,a.jsx)(n.code,{children:"joint1"})," and ",(0,a.jsx)(n.code,{children:"joint2"})," will appear. Move the sliders to articulate your robotic arm!"]}),"\n",(0,a.jsx)(n.h2,{id:"verification",children:"Verification"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"RViz window opens and displays a 2-DOF robotic arm."}),"\n",(0,a.jsxs)(n.li,{children:["Sliders in the Joint State Publisher GUI control the ",(0,a.jsx)(n.code,{children:"joint1"})," and ",(0,a.jsx)(n.code,{children:"joint2"})," angles."]}),"\n",(0,a.jsxs)(n.li,{children:["The gripper (fixed link) moves along with ",(0,a.jsx)(n.code,{children:"link2"}),"."]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"challenge-questions",children:"Challenge Questions"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Add a third revolute joint and link to the arm (e.g., a wrist joint). How do the kinematics change?"}),"\n",(0,a.jsxs)(n.li,{children:["Modify the ",(0,a.jsx)(n.code,{children:"inertial"})," properties of ",(0,a.jsx)(n.code,{children:"link1"})," and ",(0,a.jsx)(n.code,{children:"link2"}),". How do these affect simulation in a physics engine (though not visible in RViz directly)?"]}),"\n",(0,a.jsx)(n.li,{children:"Implement a Xacro macro for a generic arm segment that takes length and mass as parameters, then use it to define your arm."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}}}]);