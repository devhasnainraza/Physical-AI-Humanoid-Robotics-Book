"use strict";(globalThis.webpackChunktemp_docusaurus=globalThis.webpackChunktemp_docusaurus||[]).push([[8301],{4970:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>m,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"module-2-digital-twin/gazebo-world","title":"Building a Realistic World (SDF)","description":"1. The SDF Format","source":"@site/docs/module-2-digital-twin/02-gazebo-world.md","sourceDirName":"module-2-digital-twin","slug":"/module-2-digital-twin/gazebo-world","permalink":"/Physical-AI-Humanoid-Robotics-Book/docs/module-2-digital-twin/gazebo-world","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/module-2-digital-twin/02-gazebo-world.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Building a Realistic World (SDF)"},"sidebar":"textbookSidebar","previous":{"title":"Simulation Theory & Gazebo","permalink":"/Physical-AI-Humanoid-Robotics-Book/docs/module-2-digital-twin/intro"},"next":{"title":"Simulating Sensors (LiDAR & Depth)","permalink":"/Physical-AI-Humanoid-Robotics-Book/docs/module-2-digital-twin/sensor-plugins"}}');var o=i(4848),s=i(8453);const r={sidebar_position:2,title:"Building a Realistic World (SDF)"},l="Creating a Realistic Test Environment with SDF",a={},c=[{value:"1. The SDF Format",id:"1-the-sdf-format",level:2},{value:"2. Writing <code>test_world.sdf</code>",id:"2-writing-test_worldsdf",level:2},{value:"2.1 Why Friction Matters",id:"21-why-friction-matters",level:3},{value:"3. Adding Obstacles",id:"3-adding-obstacles",level:2}];function d(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"creating-a-realistic-test-environment-with-sdf",children:"Creating a Realistic Test Environment with SDF"})}),"\n",(0,o.jsx)(n.h2,{id:"1-the-sdf-format",children:"1. The SDF Format"}),"\n",(0,o.jsxs)(n.p,{children:["While URDF describes the ",(0,o.jsx)(n.em,{children:"robot"}),", ",(0,o.jsx)(n.strong,{children:"SDF (Simulation Description Format)"})," describes the ",(0,o.jsx)(n.em,{children:"world"})," and the robot's interaction with it. SDF is more powerful than URDF as it allows for closed-loop chains (loops in robot limbs) and detailed environment settings."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.h2,{id:"2-writing-test_worldsdf",children:["2. Writing ",(0,o.jsx)(n.code,{children:"test_world.sdf"})]}),"\n",(0,o.jsx)(n.p,{children:"We will create a world with:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Sunlight"}),": Directional light source."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Ground Plane"}),": With friction."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Physics"}),": Configuring the step size (1ms)."]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" ?>\n<sdf version="1.8">\n  <world name="humanoid_gym">\n    \n    \x3c!-- Physics: 1000 Hz (1ms step) --\x3e\n    <physics name="1ms" type="ignored">\n      <max_step_size>0.001</max_step_size>\n      <real_time_factor>1.0</real_time_factor>\n    </physics>\n\n    \x3c!-- Global Light Source --\x3e\n    <light type="directional" name="sun">\n      <cast_shadows>true</cast_shadows>\n      <pose>0 0 10 0 0 0</pose>\n      <diffuse>0.8 0.8 0.8 1</diffuse>\n      <specular>0.2 0.2 0.2 1</specular>\n      <direction>-0.5 0.1 -0.9</direction>\n    </light>\n\n    \x3c!-- Ground Plane --\x3e\n    <model name="ground_plane">\n      <static>true</static> \x3c!-- Gravity doesn\'t affect it --\x3e\n      <link name="link">\n        <collision name="collision">\n          <geometry>\n            <plane>\n              <normal>0 0 1</normal>\n              <size>100 100</size>\n            </plane>\n          </geometry>\n          \x3c!-- Friction Friction Friction --\x3e\n          <surface>\n            <friction>\n              <ode>\n                <mu>1.0</mu> \x3c!-- Static Friction --\x3e\n                <mu2>1.0</mu2> \x3c!-- Dynamic Friction --\x3e\n              </ode>\n            </friction>\n          </surface>\n        </collision>\n        <visual name="visual">\n          <geometry>\n            <plane>\n              <normal>0 0 1</normal>\n              <size>100 100</size>\n            </plane>\n          </geometry>\n          <material>\n            <ambient>0.8 0.8 0.8 1</ambient>\n            <diffuse>0.8 0.8 0.8 1</diffuse>\n            <specular>0.8 0.8 0.8 1</specular>\n          </material>\n        </visual>\n      </link>\n    </model>\n\n  </world>\n</sdf>\n'})}),"\n",(0,o.jsx)(n.h3,{id:"21-why-friction-matters",children:"2.1 Why Friction Matters"}),"\n",(0,o.jsxs)(n.p,{children:["Notice the ",(0,o.jsx)(n.code,{children:"<mu>1.0</mu>"})," tag."]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Low Friction (0.1)"}),": Like ice. Your humanoid will slip and fall."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"High Friction (1.0)"}),": Like rubber on concrete. Good grip."]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["For ",(0,o.jsx)(n.strong,{children:"Sim-to-Real"})," transfer, we often use ",(0,o.jsx)(n.strong,{children:"Domain Randomization"}),": we train the AI on grounds with friction varying from 0.5 to 1.5, so it learns to adapt to slippery floors and sticky carpets alike."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"3-adding-obstacles",children:"3. Adding Obstacles"}),"\n",(0,o.jsx)(n.p,{children:"To test navigation, we need obstacles. You can add simple primitives directly in the SDF:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<model name="box_obstacle">\n  <pose>2 0 0.5 0 0 0</pose> \x3c!-- 2m in front of robot --\x3e\n  <static>true</static>\n  <link name="link">\n    <collision name="collision">\n      <geometry>\n        <box>\n          <size>1 1 1</size>\n        </box>\n      </geometry>\n    </collision>\n    <visual name="visual">\n      <geometry>\n        <box>\n          <size>1 1 1</size>\n        </box>\n      </geometry>\n      <material>\n        <ambient>1 0 0 1</ambient> \x3c!-- Red --\x3e\n      </material>\n    </visual>\n  </link>\n</model>\n'})})]})}function m(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>l});var t=i(6540);const o={},s=t.createContext(o);function r(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);