"use strict";(globalThis.webpackChunktemp_docusaurus=globalThis.webpackChunktemp_docusaurus||[]).push([[251],{5944:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"module-5-advanced/sim-to-real-gap","title":"Crossing the Reality Gap (Sim2Real)","description":"1. Why Robots Fail in Reality","source":"@site/docs/module-5-advanced/04-sim-to-real-gap.md","sourceDirName":"module-5-advanced","slug":"/module-5-advanced/sim-to-real-gap","permalink":"/Cortex-H1/docs/module-5-advanced/sim-to-real-gap","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/module-5-advanced/04-sim-to-real-gap.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Crossing the Reality Gap (Sim2Real)"},"sidebar":"textbookSidebar","previous":{"title":"Docker on Jetson Orin","permalink":"/Cortex-H1/docs/module-5-advanced/docker-on-edge"},"next":{"title":"Micro-ROS: ROS 2 on Microcontrollers","permalink":"/Cortex-H1/docs/module-5-advanced/micro-ros"}}');var o=i(4848),s=i(8453);const a={sidebar_position:4,title:"Crossing the Reality Gap (Sim2Real)"},r="Sim2Real: The Holy Grail of Learning",l={},d=[{value:"1. Why Robots Fail in Reality",id:"1-why-robots-fail-in-reality",level:2},{value:"2. Domain Randomization",id:"2-domain-randomization",level:2},{value:"3. System Identification (SysID)",id:"3-system-identification-sysid",level:2}];function c(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"sim2real-the-holy-grail-of-learning",children:"Sim2Real: The Holy Grail of Learning"})}),"\n",(0,o.jsx)(n.h2,{id:"1-why-robots-fail-in-reality",children:"1. Why Robots Fail in Reality"}),"\n",(0,o.jsxs)(n.p,{children:["You trained a PPO policy in Isaac Lab. The robot runs perfectly in sim.\nYou deploy it to the Go2. It vibrates, falls over, and breaks a leg.\n",(0,o.jsx)(n.strong,{children:"Why?"})]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Latency"}),": Sim is instant. Real motors have 20ms delay."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Friction"}),": Sim ground is uniform. Real ground has dust."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Flex"}),": Sim URDF assumes rigid bodies. Real carbon fiber bends."]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"2-domain-randomization",children:"2. Domain Randomization"}),"\n",(0,o.jsx)(n.p,{children:'The solution is not to model reality perfectly, but to randomize simulation so much that reality just looks like "another variation".'}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"# Randomize dynamics\nrigid_shape_props.friction = np.random.uniform(0.5, 1.25)\nrigid_shape_props.restitution = np.random.uniform(0.0, 0.4) # Bounciness\n\n# Randomize mass\npayload_mass = np.random.uniform(-1.0, 5.0) # Add/subtract mass errors\n\n# Randomize motor strength\nmotor_strength = np.random.uniform(0.8, 1.2) # Weak/Strong motors\n"})}),"\n",(0,o.jsx)(n.p,{children:'If the agent learns to walk despite these chaotic changes, it will handle the "chaos" of the real world easily.'}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"3-system-identification-sysid",children:"3. System Identification (SysID)"}),"\n",(0,o.jsxs)(n.p,{children:["Alternatively, we can teach the robot to ",(0,o.jsx)(n.em,{children:"estimate"})," the parameters online."]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Teacher Policy"}),': Has access to "Privileged Information" (Friction, Mass, Gravity vector) during training.']}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Student Policy"}),": Only sees Joint Positions/IMU."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Adaptation Module"}),': An RNN/Transformer that looks at the history of joint movements (e.g., "I commanded 50% torque but only moved 10 degrees -> Mass must be heavy") and outputs a latent vector estimating the physics.']}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:'This allows the robot to "feel" if it\'s carrying a heavy box and adjust its gait instantly.'})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>r});var t=i(6540);const o={},s=t.createContext(o);function a(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);